<!DOCTYPE html>
<html lang="en" >
<head>
<meta charset="UTF-8">
<title>Sleep Mode</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.0.7/css/all.css'><link rel="stylesheet" href="../style.css">
<link rel="shortcut icon" href="../favicon.png" />
</head>
<body>
<!-- partial:index.partial.html -->
<div class="app" id="app">
<div class="tracks" :class="{isactive: isPlaylistActive}">
<ul class="tracks__list">
<li class="tracks__item" v-for="(item,index) in musicPlaylist" :class="{isactive: isCurrentSong(index)}">
<div class="tracks__info">
<h3 class="tracks__info-artist">{{item.artist}}</h3><span class="tracks__info-name">{{ item.title }}</span>
</div>
<button class="btn play btn--xs" @click="changeSong(index)" :class="{pause: isCurrentSong(index)}"></button>
</li>
</ul>
</div>
<div class="row app__head">
<button class="btn btn--small back"></button>
<button class="btn btn--small playlist" @click="togglePlaylist" :class="{isactive: isPlaylistActive}"></button>
</div>
<div class="row app__body">
<div class="album">
<div class="album__img" @load="onImageLoaded" :style="{ backgroundImage: `url(${musicPlaylist[currentSong].image})` }" :class="{isactive: isPlaylistActive}" :key="currentSong" ondragstart="return false"></div>
<div class="album__info" :class="{isactive: isPlaylistActive}">
<h3 class="album__info-name" :key="currentSong">{{ musicPlaylist[currentSong].title }}</h3>
<p class="album__info-track" :key="currentSong">{{ musicPlaylist[currentSong].artist }}</p>
</div>
</div>
<div class="progress" ref="progress" :class="{isactive: isPlaylistActive}">
<div class="progress__count"><span>{{ currentTime | fancyTimeFormat }}</span><span>{{ trackDuration | fancyTimeFormat }}</span></div>
<div class="progress__bar">
<div class="progress__bar-current" :style="{ width: currentProgressBar + '%' }"></div>
<div class="progress__bar-pin" :style="{ left: currentProgressBar + '%' }"></div>
</div>
</div>
</div>
<div class="row app__footer" :class="{isactive: isPlaylistActive}">
<button class="btn prev btn--big" @click="prevSong"></button>
<button class="btn play btn--big" @click="playAudio" :class="{pause: currentlyPlaying}"></button>
<button class="btn next btn--big" @click="nextSong"></button>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
<script>
new Vue({
el: "#app",
data: {
audio: "",
imgLoaded: false,
currentlyPlaying: false,
currentlyStopped: false,
currentTime: 0,
checkingCurrentPositionInTrack: "",
trackDuration: 0,
currentProgressBar: 0,
isPlaylistActive: false,
currentSong: 0,
debug: false,
musicPlaylist: [
{
"title": "About You",
"artist": "The 1975",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/About You.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2731f44db452a68e229650a302c"
},
{
"title": "Line Without a Hook",
"artist": "Ricky Montgomery",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Line Without a Hook.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b27367ee332af483acd134fd6fd0"
},
{
"title": "End of Beginning",
"artist": "Djo",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/End of Beginning.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273fddfffec51b4580acae727c1"
},
{
"title": "The Cut That Always Bleeds",
"artist": "Conan Gray",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/The Cut That Always Bleeds.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b27388e3cda6d29b2552d4d6bc43"
},
{
"title": "Memories",
"artist": "Conan Gray",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Memories.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b27360a89b781c62ffe2136e4396"
},
{
"title": "Car's Outside",
"artist": "James Arthur",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Car's Outside.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273dc16d839ab77c64bdbeb3660"
},
{
"title": "No Surprises",
"artist": "Radiohead",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/No Surprises.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273c8b444df094279e70d0ed856"
},
{
"title": "Romantic Homicide",
"artist": "d4vd",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Romantic Homicide.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273bd1a52b3d5903ee01c216da0"
},
{
"title": "Until I Found You",
"artist": "Stephen Sanchez",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Until I Found You.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2739522042f86d0bb0d4e9e3783"
},
{
"title": "happier",
"artist": "Olivia Rodrigo",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/happier.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273a91c10fe9472d9bd89802e5a"
},
{
"title": "Someone To Stay",
"artist": "Vancouver Sleep Clinic",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Someone To Stay.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273dabc6fe9dd3454884cf65071"
},
{
"title": "The Night We Met",
"artist": "Lord Huron",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/The Night We Met.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2731fa318e90c9d4ddc6b480853"
},
{
"title": "deja vu",
"artist": "Olivia Rodrigo",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/deja vu.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273a91c10fe9472d9bd89802e5a"
},
{
"title": "Dandelions",
"artist": "Ruth B.",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Dandelions.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b27397e971f3e53475091dc8d707"
},
{
"title": "traitor",
"artist": "Olivia Rodrigo",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/traitor.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273a91c10fe9472d9bd89802e5a"
},
{
"title": "Enchanted",
"artist": "Taylor Swift",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Enchanted.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273e1bc852a04501952c765d5cd"
},
{
"title": "Love In The Dark",
"artist": "Adele",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Love In The Dark.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2737b9888dc365b8f957c63df14"
},
{
"title": "drunk text",
"artist": "Henry Moodie",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/drunk text.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273db94c82db2d786cd9e03a538"
},
{
"title": "Right Now",
"artist": "One Direction",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Right Now.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2732f76b797c382bedcafdf45e1"
},
{
"title": "18",
"artist": "One Direction",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/18.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273d304ba2d71de306812eebaf4"
},
{
"title": "Iris",
"artist": "The Goo Goo Dolls",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Iris.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273eda9478c39a21e1cdc6609ca"
},
{
"title": "You Are Enough",
"artist": "Sleeping At Last",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/You Are Enough.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273e46541278af6c9ba6881cb7e"
},
{
"title": "All I Want",
"artist": "Olivia Rodrigo & Disney",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/All I Want.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273103b7e52b6a1b74035385876"
},
{
"title": "Rahasia Hati",
"artist": "Nidji",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Rahasia Hati.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2733d4e60ab546528ace91c22fb"
},
{
"title": "Sekuat Hatimu",
"artist": "Last Child",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Sekuat Hatimu.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273382b1b7f79e2e760b9ac188e"
},
{
"title": "Diary Depresiku",
"artist": "Last Child",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Diary Depresiku.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273c6954b8d6cb1637075223bcc"
},
{
"title": "Duka",
"artist": "Last Child",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Duka.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2733e19058e3db31816a65baf39"
},
{
"title": "Keras Kepala",
"artist": "Meiska",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Keras Kepala.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273781bc09c9a335b823a8cf707"
},
{
"title": "Bertaut",
"artist": "Nadin Amizah",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Bertaut.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2732af8d850fa9388950b9320e7"
},
{
"title": "Mati-Matian",
"artist": "Mahalini",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Mati-Matian.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273a053b3768be58a7117cc322b"
},
{
"title": "Bawa Dia Kembali",
"artist": "Mahalini",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Bawa Dia Kembali.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2736f713eb92ebf7ca05a562542"
},
{
"title": "Kisah Tanpa Dirimu",
"artist": "Anggis Devaki",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Kisah Tanpa Dirimu.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273876476b0244c1943097100ff"
},
{
"title": "Dia Masa Lalumu, Aku Masa Depanmu",
"artist": "Vionita",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Dia Masa Lalumu, Aku Masa Depanmu.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b27374384f1bbafdb90349d13f76"
},
{
"title": "Masing Masing",
"artist": "Ernie Zakri & Ade Govinda",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Masing Masing.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273b2854c3503911cc7625992e2"
},
{
"title": "Janji Setia",
"artist": "Tiara Andini",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Janji Setia.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273937d621f0025409ee44285d1"
},
{
"title": "Tanpa Pesan Terakhir",
"artist": "Seventeen",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Tanpa Pesan Terakhir.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273687ee7cccc410bb76f8bad42"
},
{
"title": "Tanpa Cinta",
"artist": "Yovie & Nuno",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Tanpa Cinta.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2730b43cd27d3f8ab7e3b9069a8"
},
{
"title": "Aku Yang Jatuh Cinta",
"artist": "Dudy Oris",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Aku Yang Jatuh Cinta.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2736dabfe1ad020adcd7b6c2108"
},
{
"title": "Ku Ingin Pisah",
"artist": "Nabila Taqiyyah",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Ku Ingin Pisah.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273b7044a4b1d903117ab7594b1"
},
{
"title": "Bohongi Hati",
"artist": "Mahalini",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Bohongi Hati.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2736f713eb92ebf7ca05a562542"
},
{
"title": "Pesan Terakhir",
"artist": "Lyodra",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Pesan Terakhir.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273d00e5994b61f1d93dafe9221"
},
{
"title": "Tak Segampang Itu",
"artist": "Anggi Marito",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Tak Segampang Itu.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2732844c4e4e984ea408ab7fd6f"
},
{
"title": "Sisa Rasa",
"artist": "Mahalini",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Sisa Rasa.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2736f713eb92ebf7ca05a562542"
},
{
"title": "Sial",
"artist": "Mahalini",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Sial.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b2736f713eb92ebf7ca05a562542"
},
{
"title": "Bukan Cinta Biasa",
"artist": "Afgan",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Bukan Cinta Biasa.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273daa3a5d2478cc796925f7c90"
},
{
"title": "Tak Dianggap",
"artist": "Lyodra",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Tak Dianggap.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273ca3cda6e80ce9df0f98de7cb"
},
{
"title": "Somebody's Pleasure",
"artist": "Aziz Hedra",
"url": "https://raw.githubusercontent.com/SatzzDev/Datas/main/songs/Somebody's Pleasure.mp3",
"image": "https://i.scdn.co/image/ab67616d0000b273dfa72d72dd91d9b28dedf9e9"
}
],
audioFile: ""
},
mounted: function() {
this.changeSong();
this.audio.loop = false;
},
filters: {
fancyTimeFormat: function(s) {
return (s - (s %= 60)) / 60 + (9 < s ? ":" : ":0") + s;
}
},
methods: {
togglePlaylist: function() {
this.isPlaylistActive = !this.isPlaylistActive;
},
nextSong: function() {
if (this.currentSong < this.musicPlaylist.length - 1)
this.changeSong(this.currentSong + 1);
},
prevSong: function() {
if (this.currentSong > 0) this.changeSong(this.currentSong - 1);
},
changeSong: function(index) {
var wasPlaying = this.currentlyPlaying;
this.imageLoaded = false;
if (index !== undefined) {
this.stopAudio();
this.currentSong = index;
}
this.audioFile = this.musicPlaylist[this.currentSong].url;
this.audio = new Audio(this.audioFile);
var localThis = this;
this.audio.addEventListener("loadedmetadata", function() {
localThis.trackDuration = Math.round(this.duration);
});
this.audio.addEventListener("ended", this.handleEnded);
if (wasPlaying) {
this.playAudio();
}
},
isCurrentSong: function(index) {
if (this.currentSong == index) {
return true;
}
return false;
},
getCurrentSong: function(currentSong) {
return this.musicPlaylist[currentSong].url;
},
playAudio: function() {
if (
this.currentlyStopped == true &&
this.currentSong + 1 == this.musicPlaylist.length
) {
this.currentSong = 0;
this.changeSong();
}
if (!this.currentlyPlaying) {
this.getCurrentTimeEverySecond(true);
this.currentlyPlaying = true;
this.audio.play();
} else {
this.stopAudio();
}
this.currentlyStopped = false;
},
stopAudio: function() {
this.audio.pause();
this.currentlyPlaying = false;
this.pausedMusic();
},
handleEnded: function() {
if (this.currentSong + 1 == this.musicPlaylist.length) {
this.stopAudio();
this.currentlyPlaying = false;
this.currentlyStopped = true;
} else {
this.currentlyPlaying = false;
this.currentSong++;
this.changeSong();
this.playAudio();
}
},
onImageLoaded: function() {
this.imgLoaded = true;
},
getCurrentTimeEverySecond: function(startStop) {
var localThis = this;
this.checkingCurrentPositionInTrack = setTimeout(
function() {
localThis.currentTime = localThis.audio.currentTime;
localThis.currentProgressBar =
localThis.audio.currentTime / localThis.trackDuration * 100;
localThis.getCurrentTimeEverySecond(true);
}.bind(this),
1000
);
},
pausedMusic: function() {
clearTimeout(this.checkingCurrentPositionInTrack);
},
toggleDebug: function(){
this.debug=!this.debug;
document.body.classList.toggle('debug');
}
},
watch: {
currentTime: function() {
this.currentTime = Math.round(this.currentTime);
}
},
beforeDestroy: function() {
this.audio.removeEventListener("ended", this.handleEnded);
this.audio.removeEventListener("loadedmetadata", this.handleEnded);

clearTimeout(this.checkingCurrentPositionInTrack);
}
});
</script>
</body>
</html>